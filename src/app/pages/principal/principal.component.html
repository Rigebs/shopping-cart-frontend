<div class="contenido-principal">
  <div class="seleccion">
    <div class="lista-categorias">
      <section>
        <span>Filtrar por categor√≠a</span>
        <mat-button-toggle-group
          [(ngModel)]="categoriaSeleccionada"
          (change)="listarProductosPorCategoria($event.value)"
        >
          @for (categoria of categorias; track categoria.id) {
          <mat-button-toggle [value]="categoria.id">{{
            categoria.nombre
          }}</mat-button-toggle>
          }
        </mat-button-toggle-group>
      </section>
      <button mat-button *ngIf="isFiltrado" (click)="limpiarFiltros()">
        Quitar filtro<mat-icon>close</mat-icon>
      </button>
    </div>
    <div class="lista-productos">
      @for (producto of productos; track producto.id) {
      <app-producto-card
        [producto]="producto"
        (agregarItem)="agregarAlCarrito($event)"
        (crearCarrito)="crearCarrito($event)"
      ></app-producto-card>
      }
    </div>
  </div>

  <div class="tabla-productos">
    <p>Productos seleccionados</p>
    <br />
    <app-productos-table
      [carrito]="carrito"
      (edit)="editarCantidad($event)"
      (delete)="quitarItem($event)"
      (pedido)="generarPedido($event)"
    ></app-productos-table>
  </div>
</div>
